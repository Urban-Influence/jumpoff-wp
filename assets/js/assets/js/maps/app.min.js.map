{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _Utils = _interopRequireDefault(require(\"./components/_Utils.js\"));\n\nrequire(\"./components/_Sniffers.js\");\n\nvar _PageTransitions = _interopRequireDefault(require(\"./components/_PageTransitions\"));\n\nvar _HeaderState = _interopRequireDefault(require(\"./components/_HeaderState.js\"));\n\nvar _MenuSmall = _interopRequireDefault(require(\"./components/_MenuSmall.js\"));\n\nvar _NestedLinks = _interopRequireDefault(require(\"./components/_NestedLinks.js\"));\n\nvar _ExternalLinks = _interopRequireDefault(require(\"./components/_ExternalLinks.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Bootstrapping Inits\n */\n_PageTransitions.default.init();\n\n_HeaderState.default.init();\n\n_MenuSmall.default.init();\n\n_ExternalLinks.default.init();\n\n_NestedLinks.default.init();\n\n},{\"./components/_ExternalLinks.js\":2,\"./components/_HeaderState.js\":3,\"./components/_MenuSmall.js\":4,\"./components/_NestedLinks.js\":5,\"./components/_PageTransitions\":6,\"./components/_Sniffers.js\":7,\"./components/_Utils.js\":8}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(require(\"../components/_Utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Speed Bump\n * Determines if a 'real' external link was clicked,\n * in order to show a speed bumb modal with close / continue buttons\n\n * @author Stephen Scaff\n */\nvar ExternalLinks = function () {\n  return {\n    /**\n     * Init\n     */\n    init: function init() {\n      this.bindEvents();\n    },\n\n    /**\n     * Bind Events\n     */\n    bindEvents: function bindEvents() {\n      ExternalLinks.checkLinks();\n    },\n\n    /**\n     * Check Links\n     * Loops through page links, if external\n     * calls Speed Bump modal and applies follow link to btn.\n     */\n    checkLinks: function checkLinks() {\n      var links = document.getElementsByTagName('a');\n\n      _Utils.default.forEach(links, function (index, link) {\n        if (!ExternalLinks.isExternal(link)) return;\n        link.target = '_blank';\n      });\n    },\n\n    /**\n     * Checks if link is really external\n     * and not a 'fake' external (ie; mailto, tel, js handler)\n     * @return boolean\n     */\n    isExternal: function isExternal(link) {\n      return link.hasAttribute(\"href\") && !link.href.match(/^mailto\\:/) && !link.href.match(/^tel\\:/) && !link.href.match(/^#\\:/) && link.hostname !== window.location.hostname;\n    }\n  };\n}();\n\nvar _default = ExternalLinks;\nexports.default = _default;\n\n},{\"../components/_Utils.js\":8}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(require(\"../components/_Utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Header State\n* Updats Header state on scroll\n*/\nvar HeaderState = function () {\n  var body = document.querySelector('body');\n  var header = document.querySelector('.app-header');\n  var threshold = 100;\n  var throttleAmnt = 10;\n  var lastKnownScrollY = 0;\n  var classes = {\n    pinned: 'header-is-pinned',\n    unpinned: 'header-is-unpinned'\n  };\n  return {\n    init: function init() {\n      this.bindEvents();\n    },\n    bindEvents: function bindEvents() {\n      setTimeout(function () {\n        window.addEventListener('scroll', _Utils.default.throttle(HeaderState.scrollLogic, throttleAmnt));\n      }, 10);\n    },\n\n    /**\n     * Handles the scroll logic\n     */\n    scrollLogic: function scrollLogic() {\n      var scrollDistance = Math.round(window.scrollY);\n\n      if (scrollDistance >= threshold) {\n        HeaderState.pin();\n      }\n\n      if (scrollDistance <= 0) {\n        HeaderState.unpin();\n      }\n    },\n\n    /**\n     * Pinned State (fixed position)\n     */\n    pin: function pin() {\n      body.classList.remove(classes.unpinned);\n      body.classList.add(classes.pinned);\n      header.classList.remove(classes.unpinned);\n      header.classList.add(classes.pinned);\n    },\n\n    /**\n     * Unpinned State\n     */\n    unpin: function unpin() {\n      body.classList.remove(classes.pinned);\n      body.classList.add(classes.unpinned);\n      header.classList.remove(classes.pinned);\n      header.classList.add(classes.unpinned);\n    }\n  };\n}();\n\nvar _default = HeaderState;\nexports.default = _default;\n\n},{\"../components/_Utils.js\":8}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Site Menu on Mobile\n * Site Menu Opening\n * @author Stephen Scaff\n */\nvar MenuSmall = function () {\n  var html = document.querySelector('html');\n  var menuToggle = document.querySelector('.js-menu-toggle');\n  var times = {\n    open: 0,\n    close: 800\n  };\n  var isOpen = false;\n  return {\n    /**\n     * Init\n     */\n    init: function init() {\n      this.bindEvents();\n    },\n    bindEvents: function bindEvents() {\n      menuToggle.addEventListener('click', function (e) {\n        MenuSmall.transitionState();\n        e.preventDefault();\n      });\n\n      window.onkeydown = function (e) {\n        if (isOpen && e.keyCode === 27) {\n          MenuSmall.transitionState();\n          e.preventDefault();\n        }\n      };\n    },\n\n    /**\n     * Transition State logic\n     */\n    transitionState: function transitionState(elem) {\n      if (isOpen) {\n        MenuSmall.close();\n      } else {\n        MenuSmall.open();\n      }\n    },\n\n    /**\n     * Open\n     */\n    open: function open() {\n      html.classList.add('menu-is-opening');\n      setTimeout(function () {\n        html.classList.remove('menu-is-closed');\n        html.classList.add('menu-is-open');\n        html.classList.remove('menu-is-opening');\n        isOpen = true;\n      }, times.open);\n    },\n\n    /**\n     * Close\n     */\n    close: function close() {\n      html.classList.add('menu-is-closing');\n      setTimeout(function () {\n        html.classList.remove('menu-is-open');\n        html.classList.add('menu-is-closed');\n        html.classList.remove('menu-is-closing');\n        isOpen = false;\n      }, times.close);\n    }\n  };\n}();\n\nvar _default = MenuSmall;\nexports.default = _default;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(require(\"../components/_Utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Nested Links\n * Allows for links nested inside a block level link wrap\n * via a data attribute of the link location.\n * @author Stephen Scaff\n */\nvar NestedLinks = function () {\n  var nestedLinks = document.querySelectorAll('[data-nested-link]');\n  return {\n    /**\n     * Init\n     */\n    init: function init() {\n      this.buildLink();\n    },\n\n    /**\n     * Build Link\n     * Constructs our nested link from our data attribute\n     */\n    buildLink: function buildLink() {\n      _Utils.default.forEach(nestedLinks, function (index, nestedLink) {\n        nestedLink.addEventListener('click', function (e) {\n          var fakieLink = this.dataset.nestedLink;\n          fakieLink && (e.preventDefault(), e.stopPropagation(), window.open && e.metaKey ? window.open(fakieLink) : window.location.assign(fakieLink));\n        });\n      });\n    }\n  };\n}();\n\nvar _default = NestedLinks;\nexports.default = _default;\n\n},{\"../components/_Utils.js\":8}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(require(\"../components/_Utils.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  Page Transitions\n *  All sexy like page transitions between page loads\n *  Adds 'is-loading' | 'is-loaded' classes for loading\n *  Adds 'is-exiting' class while exiting\n *  Exclude links with 'no-trans' class\n *\n *  @author   Stephen Scaff\n */\n// Page Transition\nvar PageTransitions = function () {\n  var s;\n  var html = document.querySelector('html');\n  var siteURL = location.host.toString(); // The no-trans class\n\n  var noTrans = 'no-trans';\n  return {\n    /**\n     * Settings Object\n     */\n    settings: {\n      transLinks: document.querySelectorAll('a[href^=\"http://' + siteURL + '\"], a[href^=\"https://' + siteURL + '\"], a[href^=\"/\"]'),\n      linkLocation: null,\n      html: document.querySelector('html'),\n      body: document.querySelector('body'),\n      exitDuration: 900,\n      entranceDuration: 300,\n      isLoaded: false,\n      isMenuLink: false,\n      finalAnimationStart: 500,\n      classes: {\n        loading: 'is-loading',\n        loaded: 'is-loaded',\n        exiting: 'is-exiting'\n      }\n    },\n\n    /**\n     * Init\n     */\n    init: function init() {\n      s = this.settings;\n      this.isPageLoaded();\n      this.entrance();\n      this.transitionPage();\n      this.unloadWindow();\n      this.workaround();\n    },\n\n    /**\n     * Enter Page\n     */\n    entrance: function entrance() {\n      s.html.classList.add(s.classes.loading);\n\n      if (s.isLoaded = true) {\n        setTimeout(function () {\n          s.html.classList.remove(s.classes.loading);\n          s.html.classList.add(s.classes.loaded);\n        }, s.entranceDuration);\n        setTimeout(function () {\n          s.html.classList.add('is-animation-ready');\n        }, s.finalAnimationStart);\n      }\n    },\n\n    /**\n     * Exit Page\n     */\n    exit: function exit(duration) {\n      s.html.classList.add(s.classes.exiting);\n      setTimeout(function () {\n        PageTransitions.redirectPage();\n      }, duration);\n    },\n\n    /**\n     * Is Loaded Check\n     */\n    isPageLoaded: function isPageLoaded() {\n      var state = document.readyState;\n      if (state === 'interactive' || state === 'complete') s.isLoaded = true;\n    },\n\n    /**\n     * Transition Page\n     */\n    transitionPage: function transitionPage() {\n      _Utils.default.forEach(s.transLinks, function (index, transLink) {\n        transLink.addEventListener('click', function (e) {\n          s.linkLocation = this.href; // Bail if body has no-trans class\n\n          if (s.html.classList.contains(noTrans) || this.classList.contains(noTrans)) return; // Bail if modifer keys (must be before preventDefault)\n\n          if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n          e.preventDefault();\n          window.scroll({\n            top: 0,\n            left: 0,\n            behavior: 'smooth'\n          });\n          PageTransitions.exit(s.exitDuration);\n        });\n      });\n    },\n\n    /**\n     * Redirect Page\n     */\n    redirectPage: function redirectPage() {\n      window.location = s.linkLocation;\n    },\n\n    /**\n     * Unload Window\n     * Ensures back button works in FF,\n     * @todo  update for jquery 3\n     */\n    unloadWindow: function unloadWindow() {\n      // For back button history\n      window.onbeforeunload = null;\n    },\n\n    /**\n     * Workaround\n     * Check the persisted property of the onpageshow event\n     * to stop back button cache in Safari\n     */\n    workaround: function workaround() {\n      // For Safari browser\n      window.onpageshow = function (e) {\n        if (e.persisted) window.location.reload();\n      };\n    }\n  };\n}(); // Init our Module\n\n\nvar _default = PageTransitions;\nexports.default = _default;\n\n},{\"../components/_Utils.js\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nvar _WhoDis = _interopRequireDefault(require(\"../components/_WhoDis.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar html = document.querySelector('html');\n\nif (_WhoDis.default.anyMobile()) {\n  document.addEventListener(\"touchstart\", function () {}, true);\n}\n\nif (_WhoDis.default.Touch()) {\n  document.addEventListener(\"touchstart\", function () {}, true);\n}\n\nif (_WhoDis.default.IE10()) {\n  document.documentElement.className += ' is-ie';\n}\n\nif (_WhoDis.default.anyMS()) {\n  html.classList.add('is-ms');\n}\n\nif (_WhoDis.default.IE()) {\n  document.documentElement.className += ' is-ie';\n}\n\nif (_WhoDis.default.Edge()) {\n  html.classList.add('is-edge');\n}\n\n},{\"../components/_WhoDis.js\":9}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Global Utilities\n */\nvar Utils = function () {\n  return {\n    /**\n     * Is doc ready\n     */\n    isReady: function isReady() {\n      var state = document.readyState;\n\n      if (state === 'interactive' || state === 'complete') {\n        return true;\n      }\n    },\n\n    /**\n     * A render utility\n     * @param {mixed} - A template\n     * @param {Node/Selector} - Where we render our template to\n     * @example Util.render(someTemplate, renderToEl)\n     */\n    render: function render(template, node) {\n      if (!node) return;\n      node.innerHTML = typeof template === 'function' ? template() : template;\n      var event = new CustomEvent('elementRenders', {\n        bubbles: true\n      });\n      node.dispatchEvent(event);\n      return node;\n    },\n\n    /**\n     * ForEach Utility\n     * Ensure we can loop over a object or nodelist\n     * @see https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n     */\n    forEach: function forEach(array, callback, scope) {\n      for (var i = 0; i < array.length; i++) {\n        callback.call(scope, i, array[i]);\n      }\n    },\n\n    /**\n     * Throttler\n     */\n    throttle: function throttle(fn, wait) {\n      var time = Date.now();\n      return function () {\n        if (time + wait - Date.now() < 0) {\n          fn();\n          time = Date.now();\n        }\n      };\n    },\n\n    /**\n     * Has Class\n     */\n    hasClass: function hasClass(el, className) {\n      if (el.classList.contains(className)) {\n        return true;\n      }\n    },\n\n    /**\n     * toggle/add/remove\n     */\n    classList: function classList(el) {\n      var list = el.classList;\n      return {\n        toggle: function toggle(c) {\n          list.toggle(c);\n          return this;\n        },\n        add: function add(c) {\n          list.add(c);\n          return this;\n        },\n        remove: function remove(c) {\n          list.remove(c);\n          return this;\n        }\n      };\n    },\n\n    /**\n     * Detected when animations end\n     */\n    whichAnimationEvent: function whichAnimationEvent() {\n      var t;\n      var el = document.createElement(\"fakeelement\");\n      var animations = {\n        \"animation\": \"animationend\",\n        \"OAnimation\": \"oAnimationEnd\",\n        \"MozAnimation\": \"animationend\",\n        \"WebkitAnimation\": \"webkitAnimationEnd\"\n      };\n\n      for (t in animations) {\n        if (el.style[t] !== undefined) {\n          return animations[t];\n        }\n      }\n    },\n\n    /**\n     * Trigger Event\n     */\n    triggerEvent: function triggerEvent(elem, event) {\n      var clickEvent = new Event(event);\n      elem.dispatchEvent(clickEvent);\n    },\n\n    /**\n     * Get the value of a querystring\n     * @param  {String} field The field to get the value of\n     * @param  {String} url   The URL to get the value from (optional)\n     * @return {String}       The field value\n     */\n    getQueryString: function getQueryString(field, url) {\n      var href = url ? url : window.location.href;\n      var reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i');\n      var string = reg.exec(href);\n      return string ? string[1] : null;\n    },\n    fetchData: function fetchData(url) {\n      return fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return json;\n      }).catch(function (ex) {\n        return console.log('failed', ex);\n      });\n    },\n    //\n    // fetchData(url) {\n    //    return fetch(url)\n    //   .then(function(response) {\n    //     return response.json()\n    //   }).then(function(json) {\n    //     console.log('parsed json', json);\n    //     return json;\n    //   }).catch(function(ex) {\n    //     console.log('parsing failed', ex)\n    //   })\n    // },\n\n    /**\n     * JSONP Helper to load external data\n     * @param {String} url\n     * @param {function} callback\n     * @param {Object} Invoked context in callback\n     */\n    loadJSONP: function loadJSONP(url, callback, context) {\n      var unique = 0;\n      var name = \"_jsonp_\" + unique++;\n      if (url.match(/\\?/)) url += \"&callback=\" + name;else url += \"?callback=\" + name; // Create script\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n\n      window[name] = function (data) {\n        callback.call(context || window, data);\n        document.getElementsByTagName('head')[0].removeChild(script);\n        script = null;\n        delete window[name];\n      }; // Load JSON\n\n\n      document.getElementsByTagName('head')[0].appendChild(script);\n    }\n  };\n}();\n\nvar _default = Utils;\nexports.default = _default;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * WhoDis.js\n * A simple little sniffer. Mostly Using UA (Yikes! 😜)\n * for conditional checks.\n *\n * @return {boolean}\n * @author stephen scaff\n */\nvar WhoDis = function () {\n  var ua = navigator.userAgent;\n  return {\n    Android: function Android() {\n      return ua.match(/Android/i);\n    },\n    BlackBerry: function BlackBerry() {\n      return ua.match(/BlackBerry/i);\n    },\n    Chrome: function Chrome() {\n      return ua.match(/Chrome/i);\n    },\n    Edge: function Edge() {\n      return ua.match(/Edge/i);\n    },\n    Firefox: function Firefox() {\n      return ua.match(/Firefox/i);\n    },\n    IE: function IE() {\n      return ua.match(/Trident/i);\n    },\n    IEMobile: function IEMobile() {\n      return ua.match(/IEMobile/i);\n    },\n    IE10: function IE10() {\n      return ua.match(/MSIE/i);\n    },\n    iOS: function iOS() {\n      return ua.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function Opera() {\n      return ua.match(/Opera Mini/i);\n    },\n    OperaMini: function OperaMini() {\n      return ua.match(/Opera Mini/i);\n    },\n    Safari: function Safari() {\n      return !!ua.match(/Version\\/[\\d\\.]+.*Safari/);\n    },\n    Touch: function Touch() {\n      return 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch;\n    },\n\n    /**\n     * Any Microsoft\n     */\n    anyMS: function anyMS() {\n      return WhoDis.IE10() || WhoDis.IE() || WhoDis.Edge();\n    },\n\n    /**\n     * Any Mobile\n     */\n    anyMobile: function anyMobile() {\n      return WhoDis.Android() || WhoDis.BlackBerry() || WhoDis.iOS() || WhoDis.OperaMini() || WhoDis.IEMobile();\n    }\n  };\n}(); // Export\n\n\nvar _default = WhoDis;\nexports.default = _default;\n\n},{}]},{},[1]);\n"],"file":"../../../app.min.js"}